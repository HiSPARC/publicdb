{% extends 'base_stations.html' %}

{% load url from future %}

{% block current_location %}currentPage{% endblock %}

{% block head_styles %}
    {{ block.super }}
    <style type="text/css" media="all">#stationList {-webkit-column-count: 1; -moz-column-count: 1; column-count: 1;}</style>
{% endblock %}

{% block header %}
    List of HiSPARC stations
{% endblock %}

{% block list %}
  {% for country in countries %}
    <div class="country">
        <h1><a href="{% url 'status_display.views.stations_on_map' country.name %}">{{ country.name }}</a></h1>
          {% for cluster in country.clusters %}
            <div class="cluster">
                <div class="subcluster">
                    <h2><a href="{% url 'status_display.views.stations_on_map' country.name cluster.name %}">{{ cluster.name }}</a></h2>
                    <ul>
                      {% for station in cluster.stations %}
                        <li>
                            <a href="{% url 'status_display.views.station_status' station.number %}"><span class='statusBall {{ station.status }}'></span></a>
                          {% if station.link %}
                            <a href="{% url 'status_display.views.station' station.link %}">
                              {{ station.number }} &mdash; {{ station.name }}
                            </a>
                          {% else %}
                              {{ station.number }} &mdash; {{ station.name }}
                          {% endif %}
                        </li>
                      {% endfor %}
                    </ul>
                </div>
                {% for subcluster in cluster.subclusters %}
                <div class="subcluster">
                    <h3><a href="{% url 'status_display.views.stations_on_map'  country.name cluster.name subcluster.name %}">{{ subcluster.name }}</a></h3>
                    <ul>
                      {% for station in subcluster.stations %}
                        <li>
                            <a href="{% url 'status_display.views.station_status' station.number %}"><span class='statusBall {{ station.status }}'></span></a>
                          {% if station.link %}
                            <a href="{% url 'status_display.views.station' station.link %}">
                              {{ station.number }} &mdash; {{ station.name }}
                            </a>
                          {% else %}
                              {{ station.number }} &mdash; {{ station.name }}
                          {% endif %}
                        </li>
                      {% endfor %}
                    </ul>
                </div>
                {% endfor %}
            </div>
          {% endfor %}
    </div>
  {% endfor %}
{% endblock %}
